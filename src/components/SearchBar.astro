---
export interface Props {
	text?: string;
}

const { text } = Astro.props;
---

<form id="search_form" method="get" action="/search">
	<button type="submit">
		<img src="/img/icons/search.svg" alt="search" />
	</button>
	<input
		type="text"
		placeholder="Rechercher un article..."
		value={text}
		name="search"
		id="search"
		required
	/>
</form>
<script>
	const searchInput = document.getElementById('search') as HTMLInputElement;
	const search = new URLSearchParams(window.location.search).get('search');
	if (search) searchInput.value = search;
</script>
<style>
	form {
		display: flex;
		align-items: center;

		background-color: var(--theme-search-bar);

		border-radius: 15px;
		border: 1px solid;

		padding: 0.2rem;
		margin-right: 3rem;
		min-width: 450px;
	}
	button {
		background-color: transparent;
		border: none;

		display: flex;
		align-items: center;
		justify-content: center;
	}
	img {
		width: 3rem;
		height: 3rem;
	}
	input {
		border: none;
		background-color: transparent;
		font-size: 1rem;
		width: 100%;
		height: 3rem;
	}
	input:focus {
		outline: none;
	}
</style>
